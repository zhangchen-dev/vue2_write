<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app" style="color: red; font-size: 20px">
      <div>{{fullName}}</div>
    </div>
    <script src="dist/Vue.js"></script>
    <script>
      // 通过注册全局的函数 Mixin 注册生命周期
      // Vue.Mixin({
      //   created: function a() {},
      // });
      // Vue.Mixin({
      //   created: function b() {},
      // });

      // 响应式 vue
      let vm = new Vue({
        el: "#app",
        // data存在两种形式 对象/函数
        data() {
          return {
            msg: "你好",
            name: "张三",
            list: [1, 2, 3],
            objarr: [{ a: "aaaa" }],
            firstName: "李",
            lastName: "四",
          };
        },

        // computed 存在缓存机制
        // 实现： 初始化computed
        computed: {
          // 用法一
          fullName() {
            return this.firstName + this.lastName;
          },
          // 用法二
          // fullName:{
          //   get(){

          //   },
          //   set(){
          //
          //   }
          // }
        },
      });
      // 获取computed
      vm.fullName;
      vm.fullName;
      console.log("%c 🌷🌷🌷🌷[ vm.fullName ]-60", "font-size:13px; background:#a52c82; color:#e970c6;", vm.fullName);

       setTimeout(() => {
         vm.firstName = "诸葛";
         vm.fullName;
         console.log("%c 🌷🌷🌷🌷[ vm.fullName ]-65", "font-size:13px; background:#3bf0a9; color:#7fffed;", vm.fullName);
       }, 1000);

      // 1. 面试问题：watcher和computed的区别
      // computed: 具有缓存机制 通过一个变量使用
      // watch 执行是回调函数 自动触发set
      // 问题: 在视图中改变 computed的值页会自动改动，现在数据更改了，但是没有渲染上去？
      // 原因：目前只处理了数据劫持中的第一次实现的时候的watcher computed中的watcher未进行处理 
      // 实现方式：
    </script>
  </body>
</html>
