<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app" style="color: red; font-size: 20px">
      {{msg}}
      <h2>å¼ ä¸‰</h2>
      <span>{{list}}</span>
    </div>
    <script src="dist/Vue.js"></script>
    <script>
      // é€šè¿‡æ³¨å†Œå…¨å±€çš„å‡½æ•° Mixin æ³¨å†Œç”Ÿå‘½å‘¨æœŸ
      Vue.Mixin({
        created: function a() {},
      });
      Vue.Mixin({
        created: function b() {},
      });

      // å“åº”å¼ vue
      let vm = new Vue({
        el: "#app",
        // dataå­˜åœ¨ä¸¤ç§å½¢å¼ å¯¹è±¡/å‡½æ•°
        data() {
          return {
            msg: "ä½ å¥½",
           
            list: [1, 2, 3],
            objarr: [{ a: "aaaa" }],
          };
        },

        created() {
          console.log("createdç”Ÿå‘½å‘¨æœŸè§¦å‘");
        },
        updated(){
          console.log('%c ðŸŒ·ðŸŒ·ðŸŒ·ðŸŒ·[  ]-43', 'font-size:13px; background:#99ca74; color:#ddffb8;', 'updated')
        }
      });
      // æ¨¡æ¿ç¼–è¯‘æ–¹å¼ ä¸‰ç§ç¼–è¯‘æ–¹å¼
      // template render el
      // console.log(vm);

      // dep-watcherå¼•å…¥
      setTimeout(() => {
        vm.msg = "æˆ‘ä¸å¤ªå¥½";
        // çœŸå®žçš„æ›´æ–°domæ¸²æŸ“ä¸ŠåŽ»çš„æ–¹æ³• å®žçŽ°è‡ªåŠ¨æ›´æ–°  æ€è·¯ï¼š 1.æ•°æ®å˜æ¢åŽè‡ªåŠ¨æ›´æ–°è§†å›¾ 2.ä»¥ç»„ä»¶ä¸ºå•ä½æ›´æ–°=ã€‹è‡ªåŠ¨è§¦å‘æ›´æ–° ç»™æ¯ä¸ªç»„ä»¶æ·»åŠ watcherï¼Œ å±žæ€§å˜åŒ–åŽè°ƒç”¨è¿™ä¸ªwatcher
        //  vm._updata(vm._render())
      }, 1000);
      //  å®žçŽ°å¯¹è±¡çš„æ”¶é›†ä¾èµ–

      // æ•°ç»„æ”¶é›†
      // æ€è·¯
      // 1.0 ç»™æ‰€æœ‰çš„å¯¹è±¡ç±»åž‹å¢žåŠ ä¸€ä¸ªdep []
      // 2.0 èŽ·å–æ•°ç»„çš„å€¼ï¼Œä¼šè°ƒç”¨getæ–¹æ³• æˆ‘ä»¬å¸Œæœ›å½“å‰çš„æ•°å­—è®°ä½å½“å‰çš„watcher 1. å½“å‰çš„dep 2.æ•°ç»„å–å€¼æ—¶è®©depæ·»åŠ watcher
      // 3.0 æ›´æ–°æ•°ç»„æ—¶å€™ push popç­‰ï¼Œæ‰¾åˆ°watcher æ›´æ–°
      setTimeout(() => {
        vm.list.push(4)
      }, 1000); 
      setTimeout(() => {
        vm.list.splice(0,1,'111')
      }, 1000);
      setTimeout(() => {
        vm.list.push('0000')
      }, 1000);


      // ä¸‰ã€ç”±äºŽæ¯æ¬¡æ›´æ–°éƒ½è§¦å‘è§†å›¾æ›´æ–° æ‰€ä»¥æ‰¾ä¸€ä¸ªæ—¶é—´ç‚¹ è¿›è¡Œç»Ÿä¸€æ›´æ–° é˜²æ­¢å¤šæ¬¡å½±å“æ€§èƒ½ nextTick 
      // å¤„ç†ä½ç½® å†è§¦å‘æ›´æ–°å‡½æ•°çš„ä½ç½®ä¿®æ”¹ ä¹Ÿå°±æ˜¯ watcherçš„ updata
      // æ³¨æ„nextTickæ˜¯ç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„ä¸€ä¸ªæ–¹æ³•
      // ç”¨æˆ·è‡ªå®šä¹‰çš„nextTick
      vm.$nextTick(()=>{
        console.log('%c ðŸŒ·ðŸŒ·ðŸŒ·ðŸŒ·[  ]-75', 'font-size:13px; background:#db10ed; color:#ff54ff;', vm.$el.innerHTML)
      })
    </script>
  </body>
</html>
